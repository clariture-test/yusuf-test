function Devices(){}Devices.prototype=options;var devices=new Devices;devices._select=function(a){options._select.call(this,a);map.select(a)};devices._deselect=function(a){options._deselect.call(this,a);map.deselect(a)};devices.update=function(a){options.update.call(this,a);reports.update(a)};function show_selected(){devices.show_selected()}function clear_all(){devices.clear_all();map.clear()}function health_check(){devices.submit("H")}function short_check(){devices.submit("S")}
function utran_report(){var a=$("#utran_report_date").val()+" 12:00 am";check_is_utran_date_valid(a)&&($("#utran_modal").modal("hide"),$("#select_form").append('<input type="hidden" name="start_time" value="'+a+'" />'),devices.submit("U"))}
function trending_report(){var a=$("#trending_report_date").val()+" 12:00 am";if(check_is_trend_date_valid(a)){$("#trending_modal").modal("hide");var b=$("#select_form");b.append('<input type="hidden" name="start_time" value="'+a+'" />');a=$("#trending_carrier").val();b.append('<input type="hidden" name="carrier" value="'+a+'" />');devices.submit("TR")}}
function drive_report(){var a=$("#drive_start_time").val(),b=$("#drive_end_time").val();if(check_is_drive_dates_valid(a,b)){$("#drive_modal").modal("hide");var c=$("#select_form");c.append('<input type="hidden" name="start_time" value="'+a+'" />');c.append('<input type="hidden" name="end_time" value="'+b+'" />');a=$("#drive_carrier").val();c.append('<input type="hidden" name="carrier" value="'+a+'" />');devices.submit("DR")}}function trending_modal(){$("#trending_modal").modal("show")}
function drive_modal(){$("#drive_modal").modal("show")}function utran_modal(){$("#utran_modal").modal("show")}function close_bulk_select_modal(){$("#bulk_select_options").val("");$("#bulk_select_error").text("");$("#bulk_select_modal").modal("hide")}function bulk_select_modal(){$("#bulk_select_modal").modal("show")}
function bulk_select(){not_found=devices.bulk_select($("#bulk_select_options").val());0<not_found.length?$("#bulk_select_error").text(not_found.join(", ")+" not found"):close_bulk_select_modal()}function check_is_trend_date_valid(a){if(!moment(a,"MM/DD/YYYY hh:mm a",!0).isValid())return $("#trending_report_info").text("Please enter valid date"),!1;msg="Report will start at "+a;$("#trending_report_info").text(msg);return!0}
function check_is_drive_dates_valid(a,b){var c=moment(a,"MM/DD/YYYY h:mm a",!0).isValid(),d=moment(b,"MM/DD/YYYY h:mm a",!0).isValid();if(!c)return $("#drive_start_error").show(),!1;if(!d)return $("#drive_end_error").show(),!1;$("#drive_start_error").hide();$("#drive_end_error").hide();return!0}
function check_is_utran_date_valid(a){if(!moment(a,"MM/DD/YYYY hh:mm a",!0).isValid())return $("#utran_report_info").text("Please enter valid date"),!1;msg="Report will start at "+a;$("#utran_report_info").text(msg);return!0}
$(document).ready(function(){var a=moment(),b=moment();2<=a.hour()?a.add(1,"day"):b.subtract(1,"day");$(".form_datetime_trending").datetimepicker({pickTime:!1,minDate:b,defaultDate:a});$(".form_datetime_drive").datetimepicker({minDate:moment(),defaultDate:moment()});$(".form_datetime_utran").datetimepicker({pickTime:!1,minDate:b,defaultDate:a});$(".form_datetime_trending").on("dp.change",function(a){a=$("#trending_report_date").val()+" 12:00 am";check_is_trend_date_valid(a)});$(".form_datetime_utran").on("dp.change",
function(a){a=$("#utran_report_date").val()+" 12:00 am";check_is_utran_date_valid(a)});$(".form_datetime_trending").on("dp.error",function(a){$("#trending_report_info").text("Please enter valid date")});$(".form_datetime_utran").on("dp.error",function(a){$("#utran_report_info").text("Please enter valid date")});a=$("#trending_report_date").val()+" 12:00 am";check_is_trend_date_valid(a);a=$("#utran_report_date").val()+" 12:00 am";check_is_utran_date_valid(a);devices.initialize();reports.update()});
